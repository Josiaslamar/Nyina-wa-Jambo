<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nyina wa Jambo Health Post</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.7/dist/umd/supabase.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <style>
      /* Consistent primary green color scheme */
      :root {
        --primary: #16a34a;
        --primary-dark: #15803d;
        --primary-light: #22c55e;
        --primary-50: #f0fdf4;
        --primary-100: #dcfce7;
        --primary-600: #16a34a;
        --primary-700: #15803d;
      }

      .primary {
        color: var(--primary);
      }
      .bg-primary {
        background-color: var(--primary);
      }
      .bg-primary-dark {
        background-color: var(--primary-dark);
      }
      .text-primary {
        color: var(--primary);
      }
      .hover\:text-primary:hover {
        color: var(--primary);
      }
      .border-primary {
        border-color: var(--primary);
      }
      .hover\:border-primary:hover {
        border-color: var(--primary);
      }

      /* Consistent gradient background */
      .gradient-bg {
        background: linear-gradient(
          135deg,
          var(--primary) 0%,
          var(--primary-light) 100%
        );
      }

      /* Role-based visibility */
      .admin-only {
        display: none;
      }
      .receptionist-only {
        display: none;
      }
      .customer-only {
        display: none;
      }

      /* Enhanced responsive design utilities */
      @media (max-width: 768px) {
        .mobile-hidden {
          display: none !important;
        }
        .mobile-full {
          width: 100% !important;
        }
        .mobile-stack {
          flex-direction: column !important;
        }
        .mobile-center {
          text-align: center !important;
        }
        .mobile-p-4 {
          padding: 1rem !important;
        }
        .mobile-text-sm {
          font-size: 0.875rem !important;
        }
        .mobile-gap-4 {
          gap: 1rem !important;
        }
      }

      @media (max-width: 640px) {
        .sm-text-2xl {
          font-size: 1.5rem !important;
        }
        .sm-px-4 {
          padding-left: 1rem !important;
          padding-right: 1rem !important;
        }
        .sm-py-12 {
          padding-top: 3rem !important;
          padding-bottom: 3rem !important;
        }
      }

      /* Dashboard responsive grid */
      .dashboard-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
      }

      /* Responsive grid for features */
      .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
      }

      @media (max-width: 640px) {
        .features-grid {
          grid-template-columns: 1fr;
          gap: 1.5rem;
        }
      }

      /* Notification styles */
      .notification {
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 12px 20px;
        border-radius: 8px;
        color: white;
        font-weight: 500;
        z-index: 1000;
        transform: translateX(400px);
        transition: transform 0.3s ease;
        max-width: 90vw;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      }
      .notification.show {
        transform: translateX(0);
      }
      .notification.success {
        background-color: var(--primary);
      }
      .notification.error {
        background-color: #ef4444;
      }
      .notification.warning {
        background-color: #f59e0b;
      }
      .notification.info {
        background-color: #3b82f6;
      }

      /* Enhanced mobile responsive navigation */
      @media (max-width: 1024px) {
        .nav-links {
          display: none;
        }
        .mobile-menu-button {
          display: block;
        }
      }

      @media (max-width: 640px) {
        .nav-mobile-stack {
          flex-direction: column;
          gap: 0.5rem;
        }
        .nav-mobile-stack > * {
          width: 100%;
          text-align: center;
        }
      }

      /* Mobile menu styles */
      .mobile-menu {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        z-index: 1000;
        margin-top: 0.5rem;
      }

      .mobile-menu.show {
        display: block;
      }

      .mobile-menu-item {
        display: block;
        padding: 0.75rem 1rem;
        color: #374151;
        text-decoration: none;
        border-bottom: 1px solid #f3f4f6;
        transition: all 0.2s ease;
      }

      .mobile-menu-item:hover {
        background-color: #f9fafb;
        color: var(--primary);
      }

      .mobile-menu-item:last-child {
        border-bottom: none;
      }

      /* Enhanced responsive grid for dashboard */
      .dashboard-stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1rem;
      }

      @media (max-width: 640px) {
        .dashboard-stats-grid {
          grid-template-columns: 1fr;
          gap: 0.75rem;
        }
      }

      /* Responsive additional stats */
      .additional-stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
      }

      @media (max-width: 768px) {
        .additional-stats-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 0.75rem;
        }
      }

      @media (max-width: 640px) {
        .additional-stats-grid {
          grid-template-columns: 1fr;
          gap: 0.5rem;
        }
      }

      /* Responsive summary cards */
      .summary-cards-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
      }

      @media (max-width: 768px) {
        .summary-cards-grid {
          grid-template-columns: 1fr;
          gap: 1rem;
        }
      }

      /* Responsive quick actions */
      .quick-actions-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1rem;
      }

      @media (max-width: 768px) {
        .quick-actions-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 0.75rem;
        }
      }

      @media (max-width: 640px) {
        .quick-actions-grid {
          grid-template-columns: 1fr;
          gap: 0.5rem;
        }
      }

      /* Mobile-optimized activity items */
      @media (max-width: 640px) {
        .activity-item {
          flex-direction: column;
          align-items: flex-start;
          gap: 0.5rem;
        }

        .activity-icon {
          align-self: flex-start;
        }

        .activity-content {
          width: 100%;
        }

        .activity-time {
          align-self: flex-end;
          font-size: 0.75rem;
        }
      }

      /* Enhanced card hover effects */
      .card-hover {
        transition: all 0.3s ease;
        cursor: pointer;
      }
      .card-hover:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }

      /* Button hover effects */
      .btn-hover {
        transition: all 0.2s ease;
      }
      .btn-hover:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      /* Smooth animations */
      .animate-fade-in {
        animation: fadeIn 0.6s ease-out;
      }

      .animate-slide-up {
        animation: slideUp 0.8s ease-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes slideUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body class="bg-gray-50">
    <!-- Notification Container -->
    <div id="notificationContainer"></div>
    <!-- Language Switcher -->
    <div class="w-full flex justify-end p-4">
      <select id="languageSwitcher" class="border rounded px-2 py-1">
        <option value="rw">Kinyarwanda</option>
        <option value="en">English</option>
      </select>
    </div>
    <!-- Landing Page -->
    <div id="landingPage" class="min-h-screen" style="display: none">
      <!-- Header -->
      <header class="bg-white shadow-sm sticky top-0 z-50">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="flex justify-between items-center py-4 sm:py-6">
            <div class="flex items-center">
              <i
                class="fas fa-heartbeat text-primary text-xl sm:text-2xl mr-2 sm:mr-3"
              ></i>
              <h1 class="text-lg sm:text-2xl font-bold text-gray-900">
                <span class="hidden sm:inline">Nyina wa Jambo Health Post</span>
                <span class="sm:hidden">Nyina wa Jambo</span>
              </h1>
            </div>
            <div
              class="flex items-center space-x-2 sm:space-x-4 nav-mobile-stack"
            >
              <button
                onclick="checkSessionAndRedirect()"
                id="loginBtn"
                class="bg-primary text-white hover:bg-primary-dark px-3 sm:px-4 py-2 rounded-md border border-primary hover:border-primary-dark transition-colors btn-hover"
              >
                <i class="fas fa-sign-in-alt mr-0 sm:mr-2"></i>
                <span class="hidden sm:inline">Login</span>
              </button>
              <button

            </div>
          </div>
        </nav>
      </header>

      <!-- Hero Section -->
      <main
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-20 animate-fade-in"
      >
        <div class="text-center">
          <h1
            class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl tracking-tight font-extrabold text-gray-900"
          >
            <span class="block main-title"></span>
            <span class="block text-primary main-subtitle"></span>
          </h1>
          <p
            class="mt-3 max-w-md mx-auto text-base text-gray-700 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl"
          >
            <span class="main-intro"></span>
          </p>
        </div>

        <!-- Stats Section -->
        <div class="mt-16 sm:mt-20 animate-slide-up">
          <div class="grid grid-cols-1 gap-6 sm:gap-8 sm:grid-cols-3">
            <div
              class="text-center p-6 bg-white rounded-lg shadow-sm card-hover"
            >
              <div class="text-3xl sm:text-4xl font-bold text-primary">
                99.9%
              </div>
              <div class="mt-2 text-lg text-gray-600 stat-open-title"></div>
              <div class="mt-1 text-sm text-gray-500 stat-open-desc"></div>
            </div>
            <div
              class="text-center p-6 bg-white rounded-lg shadow-sm card-hover"
            >
              <div class="text-3xl sm:text-4xl font-bold text-primary">
                1,200+
              </div>
              <div class="mt-2 text-lg text-gray-600 stat-patients-title"></div>
              <div class="mt-1 text-sm text-gray-500 stat-patients-desc"></div>
            </div>
            <div
              class="text-center p-6 bg-white rounded-lg shadow-sm card-hover"
            >
              <div class="text-3xl sm:text-4xl font-bold text-primary">
                24/7
              </div>
              <div
                class="mt-2 text-lg text-gray-600 stat-emergency-title"
              ></div>
              <div class="mt-1 text-sm text-gray-500 stat-emergency-desc"></div>
            </div>
          </div>
        </div>

        <!-- Features Grid -->
        <div id="features" class="mt-20 sm:mt-32">
          <div class="text-center mb-12 sm:mb-16">
            <h2
              class="text-2xl sm:text-3xl font-bold text-gray-900 services-title"
            ></h2>
            <p
              class="mt-4 text-base sm:text-lg text-gray-600 services-desc"
            ></p>
          </div>
          <div class="features-grid">
            <div class="pt-6">
              <div
                class="flow-root bg-white rounded-lg px-6 pb-8 shadow-lg hover:shadow-xl transition-shadow card-hover"
              >
                <div class="-mt-6">
                  <div
                    class="inline-flex items-center justify-center p-3 bg-primary rounded-md shadow-lg"
                  >
                    <i class="fas fa-user-nurse text-white text-xl"></i>
                  </div>
                  <h3
                    class="mt-8 text-lg font-medium text-gray-900 tracking-tight service1-title"
                  ></h3>
                  <p class="mt-5 text-base text-gray-700 service1-desc"></p>
                  <ul class="mt-4 text-sm text-gray-600 space-y-1">
                    <li class="service1-bullet1"></li>
                    <li class="service1-bullet2"></li>
                    <li class="service1-bullet3"></li>
                    <li class="service1-bullet4"></li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="pt-6">
              <div
                class="flow-root bg-white rounded-lg px-6 pb-8 shadow-lg hover:shadow-xl transition-shadow card-hover"
              >
                <div class="-mt-6">
                  <div
                    class="inline-flex items-center justify-center p-3 bg-primary rounded-md shadow-lg"
                  >
                    <i class="fas fa-capsules text-white text-xl"></i>
                  </div>
                  <h3
                    class="mt-8 text-lg font-medium text-gray-900 tracking-tight service2-title"
                  ></h3>
                  <p class="mt-5 text-base text-gray-700 service2-desc"></p>
                  <ul class="mt-4 text-sm text-gray-600 space-y-1">
                    <li class="service2-bullet1"></li>
                    <li class="service2-bullet2"></li>
                    <li class="service2-bullet3"></li>
                    <li class="service2-bullet4"></li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="pt-6">
              <div
                class="flow-root bg-white rounded-lg px-6 pb-8 shadow-lg hover:shadow-xl transition-shadow card-hover"
              >
                <div class="-mt-6">
                  <div
                    class="inline-flex items-center justify-center p-3 bg-primary rounded-md shadow-lg"
                  >
                    <i class="fas fa-users text-white text-xl"></i>
                  </div>
                  <h3
                    class="mt-8 text-lg font-medium text-gray-900 tracking-tight service3-title"
                  ></h3>
                  <p class="mt-5 text-base text-gray-700 service3-desc"></p>
                  <ul class="mt-4 text-sm text-gray-600 space-y-1">
                    <li class="service3-bullet1"></li>
                    <li class="service3-bullet2"></li>
                    <li class="service3-bullet3"></li>
                    <li class="service3-bullet4"></li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="pt-6">
              <div
                class="flow-root bg-white rounded-lg px-6 pb-8 shadow-lg hover:shadow-xl transition-shadow card-hover"
              >
                <div class="-mt-6">
                  <div
                    class="inline-flex items-center justify-center p-3 bg-primary rounded-md shadow-lg"
                  >
                    <i class="fas fa-heartbeat text-white text-xl"></i>
                  </div>
                  <h3
                    class="mt-8 text-lg font-medium text-gray-900 tracking-tight service4-title"
                  ></h3>
                  <p class="mt-5 text-base text-gray-700 service4-desc"></p>
                  <ul class="mt-4 text-sm text-gray-600 space-y-1">
                    <li class="service4-bullet1"></li>
                    <li class="service4-bullet2"></li>
                    <li class="service4-bullet3"></li>
                    <li class="service4-bullet4"></li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="pt-6">
              <div
                class="flow-root bg-white rounded-lg px-6 pb-8 shadow-lg hover:shadow-xl transition-shadow card-hover"
              >
                <div class="-mt-6">
                  <div
                    class="inline-flex items-center justify-center p-3 bg-primary rounded-md shadow-lg"
                  >
                    <i class="fas fa-info-circle text-white text-xl"></i>
                  </div>
                  <h3
                    class="mt-8 text-lg font-medium text-gray-900 tracking-tight service5-title"
                  ></h3>
                  <p class="mt-5 text-base text-gray-700 service5-desc"></p>
                  <ul class="mt-4 text-sm text-gray-600 space-y-1">
                    <li class="service5-bullet1"></li>
                    <li class="service5-bullet2"></li>
                    <li class="service5-bullet3"></li>
                    <li class="service5-bullet4"></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Benefits Section -->
        <div class="mt-20 sm:mt-32">
          <div class="gradient-bg rounded-2xl">
            <div class="max-w-7xl mx-auto py-12 sm:py-16 px-4 sm:px-6 lg:px-8">
              <div class="text-center">
                <h2
                  class="text-2xl sm:text-3xl font-bold text-white why-title"
                ></h2>
                <p
                  class="mt-4 text-base sm:text-lg text-green-100 why-desc"
                ></p>
              </div>
              <div
                class="mt-8 sm:mt-12 grid grid-cols-1 gap-6 sm:gap-8 sm:grid-cols-2 lg:grid-cols-3"
              >
                <div class="text-center">
                  <div
                    class="inline-flex items-center justify-center w-12 h-12 bg-white rounded-full"
                  >
                    <i class="fas fa-shield-alt text-primary text-xl"></i>
                  </div>
                  <h3 class="mt-4 text-lg font-medium text-white">
                    Secure & Reliable
                  </h3>
                  <p class="mt-2 text-green-100">
                    Enterprise-grade security with regular backups and 99.9%
                    uptime guarantee.
                  </p>
                </div>
                <div class="text-center">
                  <div
                    class="inline-flex items-center justify-center w-12 h-12 bg-white rounded-full"
                  >
                    <i class="fas fa-mobile-alt text-primary text-xl"></i>
                  </div>
                  <h3 class="mt-4 text-lg font-medium text-white">
                    Mobile Friendly
                  </h3>
                  <p class="mt-2 text-green-100">
                    Access your pharmacy data anywhere, anytime with our
                    responsive design.
                  </p>
                </div>
                <div class="text-center">
                  <div
                    class="inline-flex items-center justify-center w-12 h-12 bg-white rounded-full"
                  >
                    <i class="fas fa-headset text-primary text-xl"></i>
                  </div>
                  <h3 class="mt-4 text-lg font-medium text-white">
                    Local Support
                  </h3>
                  <p class="mt-2 text-green-100">
                    Dedicated support team that understands Rwandan pharmacy
                    regulations.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Testimonials Section -->
        <div class="mt-20 sm:mt-32">
          <div class="text-center mb-12 sm:mb-16">
            <h2
              class="text-2xl sm:text-3xl font-bold text-gray-900 stories-title"
            ></h2>
            <p class="mt-4 text-base sm:text-lg text-gray-600 stories-desc"></p>
          </div>
          <div class="grid grid-cols-1 gap-6 sm:gap-8 lg:grid-cols-3">
            <div class="bg-white rounded-lg shadow-lg p-6 card-hover">
              <div class="flex items-center mb-4">
                <div
                  class="w-12 h-12 bg-primary rounded-full flex items-center justify-center"
                >
                  <span class="text-white font-bold text-lg">JM</span>
                </div>
                <div class="ml-4">
                  <div class="font-medium text-gray-900">
                    Jean Marie Nkurunziza
                  </div>
                  <div class="text-sm text-gray-500">
                    Pharmacy Owner, Kigali
                  </div>
                </div>
              </div>
              <p class="text-gray-700 italic story1"></p>
              <div class="flex mt-4 text-yellow-400">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
              </div>
            </div>
            <div class="bg-white rounded-lg shadow-lg p-6 card-hover">
              <div class="flex items-center mb-4">
                <div
                  class="w-12 h-12 bg-primary rounded-full flex items-center justify-center"
                >
                  <span class="text-white font-bold text-lg">AM</span>
                </div>
                <div class="ml-4">
                  <div class="font-medium text-gray-900">
                    Anne Marie Uwimana
                  </div>
                  <div class="text-sm text-gray-500">
                    Pharmacy Manager, Butare
                  </div>
                </div>
              </div>
              <p class="text-gray-700 italic story2"></p>
              <div class="flex mt-4 text-yellow-400">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
              </div>
            </div>
            <div class="bg-white rounded-lg shadow-lg p-6 card-hover">
              <div class="flex items-center mb-4">
                <div
                  class="w-12 h-12 bg-primary rounded-full flex items-center justify-center"
                >
                  <span class="text-white font-bold text-lg">PM</span>
                </div>
                <div class="ml-4">
                  <div class="font-medium text-gray-900">Paul Mukamana</div>
                  <div class="text-sm text-gray-500">
                    Head Pharmacist, Musanze
                  </div>
                </div>
              </div>
              <p class="text-gray-700 italic story3"></p>
              <div class="flex mt-4 text-yellow-400">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- CTA Section -->
        <div class="mt-20 sm:mt-32">
          <div class="bg-gray-50 rounded-2xl">
            <div
              class="max-w-7xl mx-auto py-12 sm:py-16 px-4 sm:px-6 lg:px-8 text-center"
            >
              <h2
                class="text-2xl sm:text-3xl font-bold text-gray-900 visit-title"
              ></h2>
              <p class="mt-4 text-base sm:text-lg text-gray-600 visit-desc"></p>
            </div>
          </div>
        </div>
      </main>

      <!-- Footer -->
      <footer class="bg-gray-900 text-white">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
          <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div class="col-span-1 md:col-span-2">
              <div class="flex items-center">
                <i class="fas fa-heartbeat text-primary text-2xl mr-3"></i>
                <h3 class="text-xl font-bold footer-title"></h3>
              </div>
              <p class="mt-4 text-gray-400 max-w-md footer-desc"></p>
              <div class="flex space-x-4 mt-6">
                <a
                  href="#"
                  class="text-gray-400 hover:text-white transition-colors"
                >
                  <i class="fab fa-facebook-f text-xl"></i>
                </a>
                <a
                  href="#"
                  class="text-gray-400 hover:text-white transition-colors"
                >
                  <i class="fab fa-twitter text-xl"></i>
                </a>
                <a
                  href="#"
                  class="text-gray-400 hover:text-white transition-colors"
                >
                  <i class="fab fa-linkedin-in text-xl"></i>
                </a>
              </div>
            </div>
            <div>
              <h4 class="font-semibold text-white services-menu"></h4>
              <ul class="mt-4 space-y-2">
                <li>
                  <a
                    href="#features"
                    class="text-gray-400 hover:text-white transition-colors"
                    >Our Services</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    class="text-gray-400 hover:text-white transition-colors"
                    >Health Advice</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    class="text-gray-400 hover:text-white transition-colors"
                    >Emergency Help</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    class="text-gray-400 hover:text-white transition-colors"
                    >Community Outreach</a
                  >
                </li>
              </ul>
            </div>
            <div>
              <h4 class="font-semibold text-white contact-menu"></h4>
              <ul class="mt-4 space-y-2">
                <li>
                  <a
                    href="#"
                    class="text-gray-400 hover:text-white transition-colors"
                    >Call Us</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    class="text-gray-400 hover:text-white transition-colors"
                    >Visit Us</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    class="text-gray-400 hover:text-white transition-colors"
                    >Ask a Nurse</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    class="text-gray-400 hover:text-white transition-colors"
                    >Community Events</a
                  >
                </li>
              </ul>
            </div>
          </div>
          <div
            class="border-t border-gray-800 mt-12 pt-8 flex flex-col sm:flex-row justify-between items-center"
          >
            <p class="text-gray-400 copyright"></p>
            <div class="flex space-x-6 mt-4 sm:mt-0">
              <a
                href="#"
                class="text-gray-400 hover:text-white transition-colors text-sm"
                >Privacy Policy</a
              >
              <a
                href="#"
                class="text-gray-400 hover:text-white transition-colors text-sm"
                >Terms of Service</a
              >
              <a
                href="#"
                class="text-gray-400 hover:text-white transition-colors text-sm"
                >Cookie Policy</a
              >
            </div>
          </div>
        </div>
      </footer>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification"></div>

    <script>
      // Initialize Supabase client
      const SUPABASE_URL = "https://jcmscgxrxicwowsezbui.supabase.co";
      const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpjbXNjZ3hyeGljd293c2V6YnVpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY3NjExNzcsImV4cCI6MjA3MjMzNzE3N30.QqfFKCqV4oIsuNw5TAJoCbE7tVu7m8s8g8M6YzwcU68";
      const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY, {
        auth: {
          persistSession: true,
        },
      });

      // Language translations
      const translations = {
        en: {
          title: "Nyina wa Jambo Health Post",
          subtitle: "Your Health, Our Priority",
          intro:
            "At Nyina wa Jambo Health Post, we believe in caring for every member of our community with respect and compassion. Whether you need a checkup, advice, or urgent help, our doors are always open. We’re here for mothers, children, elders, and everyone in between—because your health matters to us.",
          openHours: "Open Hours",
          openDesc: "We are here for you every day",
          patientsHelped: "Patients Helped",
          patientsDesc: "Families and neighbors cared for",
          emergencyHelp: "Emergency Help",
          emergencyDesc: "Day or night, we’re here",
          servicesTitle: "Services for a Healthier Community",
          servicesDesc:
            "We offer care, advice, and support for everyone in our village",
          whyTitle: "Why Visit Nyina wa Jambo Health Post?",
          whyDesc:
            "We are part of your community, and we care about your well-being",
          storiesTitle: "Stories from Our Community",
          storiesDesc: "Hear from neighbors and families who visit us",
          story1:
            "Whenever my child is sick, I know I can come here and get help. The nurses are kind and always explain what to do.",
          story2:
            "I appreciate the health talks and advice. I learned a lot about nutrition and how to keep my family healthy.",
          story3:
            "They helped my mother when she needed medicine and even checked on her at home. We feel supported here.",
          visitTitle: "Visit Us Today",
          visitDesc:
            "We welcome you and your family to Nyina wa Jambo Health Post. Your health is our mission.",
          footerTitle: "Nyina wa Jambo Health Post",
          footerDesc:
            "Nyina wa Jambo Health Post is here for you. We offer care, advice, and support for all families in our community. Thank you for trusting us with your health.",
          servicesMenu: "Services",
          contactMenu: "Contact",
          copyright: "© 2025 Nyina wa Jambo Health Post. All rights reserved.",
          service1Title: "Patient Care",
          service1Desc:
            "We listen, we care, and we help. From regular checkups to advice on staying healthy, our nurses and staff are here for you and your family every day.",
          service1Bullet1: "• Friendly consultations",
          service1Bullet2: "• Help for mothers and children",
          service1Bullet3: "• Support for chronic illnesses",
          service1Bullet4: "• Follow-up and home visits",
          service2Title: "Medicines & Supplies",
          service2Desc:
            "We provide essential medicines and health supplies with care and clear instructions. If you have questions, just ask—we’re here to help.",
          service2Bullet1: "• Medicine for common illnesses",
          service2Bullet2: "• Advice on prescriptions",
          service2Bullet3: "• Health products for families",
          service2Bullet4: "• Safe and reliable service",
          service3Title: "Community Health",
          service3Desc:
            "We work together for a healthier village. Join our health talks, vaccination days, and family planning sessions. Everyone is welcome!",
          service3Bullet1: "• Health education sessions",
          service3Bullet2: "• Vaccinations for children",
          service3Bullet3: "• Family planning advice",
          service3Bullet4: "• Outreach in the community",
          service4Title: "Emergency Help",
          service4Desc:
            "If you or a loved one needs urgent help, come to us. We offer first aid and can guide you to the right hospital if needed—day or night.",
          service4Bullet1: "• First aid for injuries",
          service4Bullet2: "• Emergency support",
          service4Bullet3: "• Referrals to hospitals",
          service4Bullet4: "• Available 24/7",
          service5Title: "Health Advice",
          service5Desc:
            "We’re happy to answer your questions about health, nutrition, and disease prevention. Our team is here to support you and your family with honest, practical advice.",
          service5Bullet1: "• Tips for healthy living",
          service5Bullet2: "• Nutrition guidance",
          service5Bullet3: "• Disease prevention",
          service5Bullet4: "• Support for families",
        },
        rw: {
          title: "Ikigo Nderabuzima Nyina wa Jambo",
          subtitle: "Ubuzima bwawe ni bwo dushyira imbere",
          intro:
            "Mu kigo nderabuzima Nyina wa Jambo, twita kuri buri wese mu muryango wacu twubaha kandi tubafitiye impuhwe. Niba ukeneye kwisuzumisha, inama, cyangwa ubufasha bwihutirwa, imiryango yacu irafunguye buri gihe. Twakira ababyeyi, abana, abageze mu zabukuru, n'abandi bose—ubuzima bwawe ni ingenzi kuri twe.",
          openHours: "Amasaha yo gufungura",
          openDesc: "Turahari buri munsi",
          patientsHelped: "Abarwayi twafashije",
          patientsDesc: "Imiryango n'abaturanyi twitayeho",
          emergencyHelp: "Ubufasha bw'ubutabazi",
          emergencyDesc: "Ku manywa na nijoro, turahari",
          servicesTitle: "Serivisi z'ubuzima bwiza",
          servicesDesc:
            "Dutanga ubufasha, inama, n'ubwitange kuri buri wese mu mudugudu wacu",
          whyTitle: "Impamvu zo gusura Ikigo Nderabuzima Nyina wa Jambo",
          whyDesc: "Turi mu muryango wawe, kandi twita ku buzima bwawe",
          storiesTitle: "Inkuru z'abaturage bacu",
          storiesDesc: "Umva ubuhamya bw'abaturanyi n'imiryango badusura",
          story1:
            "Iyo umwana wanjye arwaye, nza hano nkabona ubufasha. Abaforomo ni beza kandi bambwira uko ngomba kwitwara.",
          story2:
            "Ndashimira ibiganiro by'ubuzima n'inama. Nize byinshi ku mirire no kurinda umuryango wanjye indwara.",
          story3:
            "Bafashije mama igihe akeneye imiti, banamusura mu rugo. Twumva dufashijwe hano.",
          visitTitle: "Dusuye uyu munsi",
          visitDesc:
            "Turakwakira wowe n'umuryango wawe mu kigo nderabuzima Nyina wa Jambo. Ubuzima bwawe ni intego yacu.",
          footerTitle: "Ikigo Nderabuzima Nyina wa Jambo",
          footerDesc:
            "Ikigo nderabuzima Nyina wa Jambo kirahari kuri wowe. Dutanga ubufasha, inama, n'ubwitange ku miryango yose mu muryango wacu. Murakoze kutwizeza ubuzima bwanyu.",
          servicesMenu: "Serivisi",
          contactMenu: "Tuvugishe",
          copyright:
            "© 2025 Ikigo Nderabuzima Nyina wa Jambo. Uburenganzira bwose burabitswe.",
          service1Title: "Kwita ku barwayi",
          service1Desc:
            "Turumva, twita, kandi dufasha. Uhereye ku kwisuzumisha kenshi kugeza ku nama zo kurinda ubuzima, abaforomo n'abakozi bacu bahari buri munsi kuri wowe n'umuryango wawe.",
          service1Bullet1: "• Inama z'ubugwaneza",
          service1Bullet2: "• Ubufasha ku babyeyi n'abana",
          service1Bullet3: "• Ubufasha ku ndwara zidakira",
          service1Bullet4: "• Gusura abarwayi mu rugo",
          service2Title: "Imiti n'ibikoresho",
          service2Desc:
            "Dutanga imiti n'ibikoresho by'ubuzima by'ingenzi tubitanga neza kandi tubisobanura. Niba ufite ikibazo, tubaze—turahari kugufasha.",
          service2Bullet1: "• Imiti y'indwara zisanzwe",
          service2Bullet2: "• Inama ku miti yanditswe",
          service2Bullet3: "• Ibikoresho by'ubuzima ku miryango",
          service2Bullet4: "• Serivisi yizewe kandi itekanye",
          service3Title: "Ubuzima bw'abaturage",
          service3Desc:
            "Dukorana kugira ngo tugire umudugudu ufite ubuzima bwiza. Jya mu biganiro by'ubuzima, iminsi yo gukingira, n'inama ku gutegura umuryango. Buri wese arakirwa!",
          service3Bullet1: "• Ibiganiro by'ubuzima",
          service3Bullet2: "• Gukingira abana",
          service3Bullet3: "• Inama ku gutegura umuryango",
          service3Bullet4: "• Kugera ku baturage bose",
          service4Title: "Ubufasha bw'ubutabazi",
          service4Desc:
            "Niba wowe cyangwa uwo ukunda akeneye ubufasha bwihutirwa, uza hano. Dutanga ubutabazi bw'ibanze kandi tugufasha kugera ku bitaro bikwiye—ku manywa na nijoro.",
          service4Bullet1: "• Ubutabazi bw'ibikomere",
          service4Bullet2: "• Ubufasha bw'ubutabazi",
          service4Bullet3: "• Kuyobora ku bitaro",
          service4Bullet4: "• Turahari amasaha 24/7",
          service5Title: "Inama z'ubuzima",
          service5Desc:
            "Twishimiye kugusubiza ibibazo byawe ku buzima, imirire, no kwirinda indwara. Itsinda ryacu rihari kugufasha wowe n'umuryango wawe mu buryo bw'inyakuri kandi bworoshye.",
          service5Bullet1: "• Inama zo kubaho neza",
          service5Bullet2: "• Inama ku mirire",
          service5Bullet3: "• Kwirinda indwara",
          service5Bullet4: "• Ubufasha ku miryango",
        },
      };

      function setLanguage(lang) {
        const t = translations[lang];
        document.querySelector(".main-title").textContent = t.title;
        document.querySelector(".main-subtitle").textContent = t.subtitle;
        document.querySelector(".main-intro").textContent = t.intro;
        document.querySelector(".stat-open-title").textContent = t.openHours;
        document.querySelector(".stat-open-desc").textContent = t.openDesc;
        document.querySelector(".stat-patients-title").textContent =
          t.patientsHelped;
        document.querySelector(".stat-patients-desc").textContent =
          t.patientsDesc;
        document.querySelector(".stat-emergency-title").textContent =
          t.emergencyHelp;
        document.querySelector(".stat-emergency-desc").textContent =
          t.emergencyDesc;
        document.querySelector(".services-title").textContent = t.servicesTitle;
        document.querySelector(".services-desc").textContent = t.servicesDesc;
        document.querySelector(".service1-title").textContent = t.service1Title;
        document.querySelector(".service1-desc").textContent = t.service1Desc;
        document.querySelector(".service1-bullet1").textContent =
          t.service1Bullet1;
        document.querySelector(".service1-bullet2").textContent =
          t.service1Bullet2;
        document.querySelector(".service1-bullet3").textContent =
          t.service1Bullet3;
        document.querySelector(".service1-bullet4").textContent =
          t.service1Bullet4;
        document.querySelector(".service2-title").textContent = t.service2Title;
        document.querySelector(".service2-desc").textContent = t.service2Desc;
        document.querySelector(".service2-bullet1").textContent =
          t.service2Bullet1;
        document.querySelector(".service2-bullet2").textContent =
          t.service2Bullet2;
        document.querySelector(".service2-bullet3").textContent =
          t.service2Bullet3;
        document.querySelector(".service2-bullet4").textContent =
          t.service2Bullet4;
        document.querySelector(".service3-title").textContent = t.service3Title;
        document.querySelector(".service3-desc").textContent = t.service3Desc;
        document.querySelector(".service3-bullet1").textContent =
          t.service3Bullet1;
        document.querySelector(".service3-bullet2").textContent =
          t.service3Bullet2;
        document.querySelector(".service3-bullet3").textContent =
          t.service3Bullet3;
        document.querySelector(".service3-bullet4").textContent =
          t.service3Bullet4;
        document.querySelector(".service4-title").textContent = t.service4Title;
        document.querySelector(".service4-desc").textContent = t.service4Desc;
        document.querySelector(".service4-bullet1").textContent =
          t.service4Bullet1;
        document.querySelector(".service4-bullet2").textContent =
          t.service4Bullet2;
        document.querySelector(".service4-bullet3").textContent =
          t.service4Bullet3;
        document.querySelector(".service4-bullet4").textContent =
          t.service4Bullet4;
        document.querySelector(".service5-title").textContent = t.service5Title;
        document.querySelector(".service5-desc").textContent = t.service5Desc;
        document.querySelector(".service5-bullet1").textContent =
          t.service5Bullet1;
        document.querySelector(".service5-bullet2").textContent =
          t.service5Bullet2;
        document.querySelector(".service5-bullet3").textContent =
          t.service5Bullet3;
        document.querySelector(".service5-bullet4").textContent =
          t.service5Bullet4;
        document.querySelector(".why-title").textContent = t.whyTitle;
        document.querySelector(".why-desc").textContent = t.whyDesc;
        document.querySelector(".stories-title").textContent = t.storiesTitle;
        document.querySelector(".stories-desc").textContent = t.storiesDesc;
        document.querySelector(".story1").textContent = t.story1;
        document.querySelector(".story2").textContent = t.story2;
        document.querySelector(".story3").textContent = t.story3;
        document.querySelector(".visit-title").textContent = t.visitTitle;
        document.querySelector(".visit-desc").textContent = t.visitDesc;
        document.querySelector(".footer-title").textContent = t.footerTitle;
        document.querySelector(".footer-desc").textContent = t.footerDesc;
        document.querySelector(".services-menu").textContent = t.servicesMenu;
        document.querySelector(".contact-menu").textContent = t.contactMenu;
        document.querySelector(".copyright").textContent = t.copyright;
        document.title = t.title;
      }

      // Check session and redirect if authenticated
      async function checkSession() {
        try {
          const { data: { user }, error } = await supabase.auth.getUser();
          if (error) {
            console.error("Session check error:", error.message);
            return false;
          }
          if (user) {
            try {
              const profile = await getUserProfile();
              if (profile) {
                switch (profile.role) {
                  case "admin":
                    window.location.href = "dashboard.html";
                    break;
                  case "receptionist":
                    window.location.href = "receptionist-dashboard.html";
                    break;
                  case "customer":
                    window.location.href = "customer-portal.html";
                    break;
                  default:
                    window.location.href = "dashboard.html";
                }
              } else {
                window.location.href = "dashboard.html";
              }
            } catch (profileError) {
              console.error("Profile fetch error:", profileError.message);
              window.location.href = "dashboard.html";
            }
            return true;
          }
          return false;
        } catch (error) {
          console.error("Session check failed:", error.message);
          return false;
        }
      }

      // Handle login button click
      async function checkSessionAndRedirect() {
        const isAuthenticated = await checkSession();
        if (!isAuthenticated) {
          window.location.href = "login.html";

          }
        }

      document.addEventListener("DOMContentLoaded", function () {
        checkSession().then((isAuthenticated) => {
          if (!isAuthenticated) {
            document.getElementById("landingPage").style.display = "block";
            setLanguage("rw");
          }
          document.getElementById("languageSwitcher").addEventListener("change", function (e) {
            setLanguage(e.target.value);
          });
        });
      });
    </script>
  </body>
</html>